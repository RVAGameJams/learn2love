
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>2.6 - Mapping · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="02-07-the-world.html" />
    
    
    <link rel="prev" href="02-05-delta-time.html" />
    

    <script src="../gitbook/gitbook-plugin-graph/d3.min.js"></script>
    <script src="../gitbook/gitbook-plugin-graph/function-plot.js"></script>    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="01-00-programming-basics.html">
            
                <a href="01-00-programming-basics.html">
            
                    
                    1.0 - Programming basics
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="01-01-interactive-coding.html">
            
                <a href="01-01-interactive-coding.html">
            
                    
                    1.1 - Interactive coding
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="01-02-strings.html">
            
                <a href="01-02-strings.html">
            
                    
                    1.2 - Strings
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="01-03-nil-and-variables.html">
            
                <a href="01-03-nil-and-variables.html">
            
                    
                    1.3 - Nil and variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="01-04-using-functions.html">
            
                <a href="01-04-using-functions.html">
            
                    
                    1.4 - Using functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="01-05-comments-in-code.html">
            
                <a href="01-05-comments-in-code.html">
            
                    
                    1.5 - Comments in code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="01-06-scripting-and-printing.html">
            
                <a href="01-06-scripting-and-printing.html">
            
                    
                    1.6 - Scripting and printing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="01-07-making-functions.html">
            
                <a href="01-07-making-functions.html">
            
                    
                    1.7 - Making functions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="01-08-booleans.html">
            
                <a href="01-08-booleans.html">
            
                    
                    1.8 - Booleans
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="01-09-flow-control.html">
            
                <a href="01-09-flow-control.html">
            
                    
                    1.9 - Flow control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="01-10-while.html">
            
                <a href="01-10-while.html">
            
                    
                    1.10 - While
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="01-11-type-checking.html">
            
                <a href="01-11-type-checking.html">
            
                    
                    1.11 - Type checking
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="01-12-first-game.html">
            
                <a href="01-12-first-game.html">
            
                    
                    1.12 - First game
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="01-13-tables-1.html">
            
                <a href="01-13-tables-1.html">
            
                    
                    1.13 - Tables (part 1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="01-14-tables-2.html">
            
                <a href="01-14-tables-2.html">
            
                    
                    1.14 - Tables (part 2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="01-15-for-loops-1.html">
            
                <a href="01-15-for-loops-1.html">
            
                    
                    1.15 - For loops (part 1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.16" data-path="01-16-for-loops-2.html">
            
                <a href="01-16-for-loops-2.html">
            
                    
                    1.16 - For loops (part 2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="01-17-scopes.html">
            
                <a href="01-17-scopes.html">
            
                    
                    1.17 - Scopes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.18" data-path="01-18-chapter-review.html">
            
                <a href="01-18-chapter-review.html">
            
                    
                    1.18 - Chapter review
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="02-00-introducing-love.html">
            
                <a href="02-00-introducing-love.html">
            
                    
                    2.0 - Introducing LÖVE
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="02-01-up-and-running.html">
            
                <a href="02-01-up-and-running.html">
            
                    
                    2.1 - Up and running
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="02-02-love-structure.html">
            
                <a href="02-02-love-structure.html">
            
                    
                    2.2 - LÖVE structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="02-03-geometry.html">
            
                <a href="02-03-geometry.html">
            
                    
                    2.3 - Geometry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="02-04-game-loop.html">
            
                <a href="02-04-game-loop.html">
            
                    
                    2.4 - Game loop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="02-05-delta-time.html">
            
                <a href="02-05-delta-time.html">
            
                    
                    2.5 - Delta time
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.6" data-path="02-06-mapping.html">
            
                <a href="02-06-mapping.html">
            
                    
                    2.6 - Mapping
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="02-07-the-world.html">
            
                <a href="02-07-the-world.html">
            
                    
                    2.7 - The world
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="02-08-reading-documentation.html">
            
                <a href="02-08-reading-documentation.html">
            
                    
                    2.8 - Reading documentation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="02-09-modules-and-organization.html">
            
                <a href="02-09-modules-and-organization.html">
            
                    
                    2.9 - Modules and Organization
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >2.6 - Mapping</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="mapping">Mapping</h1>
<p>Let&apos;s sidetrack from L&#xD6;VE for a minute to learn about a concept called maps.
Not to be confused with overhead maps a player would walk around on in a game, but data maps.
We actually did mapping back in chapter 1 when we <a href="01-14-tables-2.html">learned about tables</a>.</p>
<pre><code class="lang-lua">coins = {
  [<span class="hljs-string">&quot;half&quot;</span>] = <span class="hljs-string">&quot;50 cents&quot;</span>,
  [<span class="hljs-string">&quot;quarter&quot;</span>] = <span class="hljs-string">&quot;25 cents&quot;</span>,
  [<span class="hljs-string">&quot;dime&quot;</span>] = <span class="hljs-string">&quot;10 cents&quot;</span>,
  [<span class="hljs-string">&quot;nickel&quot;</span>] = <span class="hljs-string">&quot;5 cents&quot;</span>,
  [<span class="hljs-string">&quot;penny&quot;</span>] = <span class="hljs-string">&quot;1 cent&quot;</span>
}

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Which coin do you have?&quot;</span>)
response = <span class="hljs-built_in">io</span>.read()

<span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Your coin is worth &quot;</span> .. coins[response] .. <span class="hljs-string">&quot;.&quot;</span>)
</code></pre>
<p>Whenever the user typed in a coin, we mapped the coin name to a value by looking up the coin name in the table, or dictionary.
So what&apos;s the difference between tables, dictionaries, and maps?</p>
<ul>
<li>tables are just a data type in Lua that can be used to build data structures like lists and dictionaries</li>
<li>dictionaries are key-value storages used to centralize similar-purpose data in one place and make it easier to look the data up</li>
<li>maps are data structures used to translate one type of information to another, and a dictionary is one type of map</li>
</ul>
<p>Dictionaries are the only types of map we&apos;ll be concerned about here, but know that maps generally refer to instances of data structures that do mapping.
There are often discrepancies in terminology between mathematics and the various fields in computer science.
Don&apos;t be surprised if you see dictionaries and maps being used synonymously in other contexts later in life.</p>
<p>Let&apos;s do some mapping on our code we previously wrote to get a better feel for them.
Remember all those if/elseif statements in main.lua?</p>
<pre><code class="lang-lua">  <span class="hljs-keyword">if</span> pressed_key == <span class="hljs-string">&apos;b&apos;</span> <span class="hljs-keyword">then</span>
    <span class="hljs-comment">-- Blue</span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>}
  <span class="hljs-keyword">elseif</span> pressed_key == <span class="hljs-string">&apos;g&apos;</span> <span class="hljs-keyword">then</span>
    <span class="hljs-comment">-- Green</span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>}
  <span class="hljs-keyword">elseif</span> pressed_key == <span class="hljs-string">&apos;r&apos;</span> <span class="hljs-keyword">then</span>
    <span class="hljs-comment">-- Red</span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>}
  <span class="hljs-keyword">elseif</span> pressed_key == <span class="hljs-string">&apos;w&apos;</span> <span class="hljs-keyword">then</span>
    <span class="hljs-comment">-- White</span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>}
  <span class="hljs-keyword">end</span>
  <span class="hljs-keyword">if</span> pressed_key == <span class="hljs-string">&apos;escape&apos;</span> <span class="hljs-keyword">then</span>
    love.event.quit()
  <span class="hljs-keyword">end</span>
</code></pre>
<p>We can put all that functionality in a map like this:</p>
<pre><code class="lang-lua"><span class="hljs-keyword">local</span> key_map = {
  b = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Blue</span>
  <span class="hljs-keyword">end</span>,
  g = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Green</span>
  <span class="hljs-keyword">end</span>,
  r = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Red</span>
  <span class="hljs-keyword">end</span>,
  w = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- White</span>
  <span class="hljs-keyword">end</span>,
  <span class="hljs-comment">-- Close the game</span>
  escape = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    love.event.quit()
  <span class="hljs-keyword">end</span>
}
</code></pre>
<p>This doesn&apos;t look any more concise than our previous code, but our goal is to keep the <code>love.keypressed</code> function clean in this case.
When a key is pressed it will be mapped to a key function we define in <code>key_map</code>.
Another important thing is these functions could be modular and moved anywhere we need them to be, and even re-used.
Let&apos;s not go too crazy right now though.
We&apos;ll keep the key map somewhere near the top.</p>
<pre><code class="lang-lua"><span class="hljs-keyword">local</span> current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>}
<span class="hljs-keyword">local</span> seconds = <span class="hljs-number">0</span>

<span class="hljs-keyword">local</span> key_map = {
  b = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Blue</span>
  <span class="hljs-keyword">end</span>,
  g = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Green</span>
  <span class="hljs-keyword">end</span>,
  r = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- Red</span>
  <span class="hljs-keyword">end</span>,
  w = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    current_color = {<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>} <span class="hljs-comment">-- White</span>
  <span class="hljs-keyword">end</span>,
  escape = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
    love.event.quit()
  <span class="hljs-keyword">end</span>
}

love.draw = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>
  <span class="hljs-keyword">local</span> square = {<span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">200</span>, <span class="hljs-number">100</span>}

  <span class="hljs-comment">-- Print a counter clock</span>
  <span class="hljs-keyword">local</span> clock_display = <span class="hljs-string">&apos;Seconds: &apos;</span> .. <span class="hljs-built_in">math</span>.floor(seconds)
  love.graphics.<span class="hljs-built_in">print</span>(clock_display, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>)

  <span class="hljs-comment">-- Initialize the square with the default color (white)</span>
  love.graphics.setColor(current_color)
  love.graphics.polygon(<span class="hljs-string">&apos;fill&apos;</span>, square)
<span class="hljs-keyword">end</span>


love.keypressed = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(pressed_key)</span></span>
  <span class="hljs-comment">-- Check in the key map if there is a function</span>
  <span class="hljs-comment">-- that matches this pressed key&apos;s name</span>
  <span class="hljs-keyword">if</span> key_map[pressed_key] <span class="hljs-keyword">then</span>
    key_map[pressed_key]()
  <span class="hljs-keyword">end</span>
<span class="hljs-keyword">end</span>

love.update = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(dt)</span></span>
  <span class="hljs-comment">-- Add up all the delta time as we get it</span>
  seconds = seconds + dt
<span class="hljs-keyword">end</span>
</code></pre>
<p>If you press a key that isn&apos;t part of the map then the new if statement (<code>if key_map[pressed_key] ...</code>) will see that key doesn&apos;t exist in the map and not do anything.
<code>key_map[pressed_key]()</code> is the same as saying <code>key_map[&apos;b&apos;]()</code>, <code>key_map[&apos;escape&apos;]()</code> or whatever the value of <code>pressed_key</code> was at the time.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="02-05-delta-time.html" class="navigation navigation-prev " aria-label="Previous page: 2.5 - Delta time">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="02-07-the-world.html" class="navigation navigation-next " aria-label="Next page: 2.7 - The world">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"2.6 - Mapping","level":"1.3.6","depth":2,"next":{"title":"2.7 - The world","level":"1.3.7","depth":2,"path":"pages/02-07-the-world.md","ref":"pages/02-07-the-world.md","articles":[]},"previous":{"title":"2.5 - Delta time","level":"1.3.5","depth":2,"path":"pages/02-05-delta-time.md","ref":"pages/02-05-delta-time.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["graph"],"pluginsConfig":{"graph":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"pages/02-06-mapping.md","mtime":"2018-07-03T22:03:56.203Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-14T00:53:57.699Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

